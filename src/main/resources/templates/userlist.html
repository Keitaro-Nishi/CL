<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="utf-8" />
<title>ユーザー一覧</title>

<link href="stylesheets/bootstrap.css" rel="stylesheet" />
<link href="stylesheets/jquery.bootgrid.css" rel="stylesheet" />

</head>
<body>


		<table id="grid-basic" class="table table-condensed table-hover table-striped">
				<thead>
					<tr>
					   <th data-column-id="checkbox"  data-width="3%"></th>
					   <th data-column-id="no" data-type="numeric" data-identifier="true" data-width="3%">No</th>
		               <th data-column-id="custid" data-width="7%">ユーザーID</th>
		               <th data-column-id="custname"  data-width="10%">ユーザー名</th>
		               <th data-column-id="orgname"  data-width="40%">組織名</th>
		               <th data-column-id="password"  data-width="40%">パスワード</th>
		               <th data-column-id="effect"  data-width="40%">EFFECT</th>
		               <th data-column-id="role"  data-width="40%">役割</th>
		           </tr>
				</thead>
				
				<tbody>
					
					<tr th:each="user :${users}">
						<td><input id="check1" type="checkbox" name = "check2" /></td>
						<td th:text="${user.no}"></td>
						<td th:text="${user.custid}"></td>
						<td th:text="${user.custname}"></td>
						<td th:text="${user.orgname}"></td>
						<td th:text="${user.password}"></td>
						<td th:text="${user.effect}"></td>
						<td th:text="${user.role}"></td>
					</tr>
				</tbody>
		</table>	

<script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.js"></script>
<script src="javascript/bootstrap.js"></script>
<script src="javascript/jquery.bootgrid.js"></script>

<script>

var rowIds = [];

$(function() {
  
});

$(document).ready(function () { //全ての読み込みが完了したら実行
	$('#grid-basic').bootgrid({
		selection: true,
		multiSelect: true,
		rowSelect: true,
	    keepSelection: true,
	}).on("selected.rs.jquery.bootgrid", function(e, rows)
	{
	    for (var i = 0; i < rows.length; i++)
	    {
	        rowIds.push(rows[i].no);
	    }
	    //alert("Select: " + rowIds.join(","));
	}).on("deselected.rs.jquery.bootgrid", function(e, rows)
	{
	    for (var i = 0; i < rows.length; i++)
	    {
	    	rowIds.some(function(v, ii){
	    	    if (v==rows[i].no) rowIds.splice(ii,1);
	    	});
	        //rowIds.push(rows[i].no);
	    }
	    //alert("Deselect: " + rowIds.join(","));
	});
});


</script>
</body>
</html>		